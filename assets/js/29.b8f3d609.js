(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{471:function(t,a,s){"use strict";s.r(a);var n=s(24),v=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"微信小程序自定义导航栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序自定义导航栏","aria-hidden":"true"}},[t._v("#")]),t._v(" 微信小程序自定义导航栏")]),t._v(" "),s("p",[t._v("对于微信小程序开发的小伙伴大家对导航栏再熟悉不过了。没错，在小程序中导航栏起着尤为重要的作用。它能帮助用户导航，在繁琐的页面中知道自己所用小程序的位置。其实微信小程序的导航栏还是挺精致的，它能够满足绝大部分的功能，然而他也有些局外性。下面我就一一分析下微信小程序中的导航栏。")]),t._v(" "),s("h2",{attrs:{id:"分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析","aria-hidden":"true"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),s("ul",[s("li",[t._v("影响个性交互")])]),t._v(" "),s("p",[t._v("导航栏只能是固定的"),s("code",[t._v("HexColor")]),t._v("颜色。这一点对于交互要求极高的小程序来说，很不能忍。比如说"),s("code",[t._v("NIKE微主页")]),t._v("这个小程序。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/my-blog/nike.jpg",alt:"nike"}})]),t._v(" "),s("ul",[s("li",[t._v("增加页面显示面积")])]),t._v(" "),s("p",[t._v("对于有的页面（比如首页）来说，需求更希望给用户提供更多的有用信息而非导航（首页就不需要导航啦）。这种情况可以直接不需要导航从而增加页面的显示面。这一点也可以参考"),s("code",[t._v("NIKE微主页")])]),t._v(" "),s("ul",[s("li",[t._v("传统的导航太死板，我想添加更有用的导航按钮。")])]),t._v(" "),s("p",[t._v("比如从分享进入或者扫码进入小程序指定页面。用户想回到首页只能点击右上角胶囊按钮，但很多用户可能不知道这个操作（有点隐藏）这种情况的解决方案就是在页面上显示回到首页的跳转按钮，如果这个按钮放在导航上就太好不过了。\n不仅如此，还能自定义放一些功能性的导航按钮。如"),s("code",[t._v("猫圈WeCat")]),t._v("。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/my-blog/wecat1.jpg",alt:"wecat1"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/my-blog/wecat2.jpg",alt:"wecat2"}})]),t._v(" "),s("h2",{attrs:{id:"使用自定义导航栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用自定义导航栏","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用自定义导航栏")]),t._v(" "),s("ol",[s("li",[t._v("配置"),s("code",[t._v("app.json")]),t._v(" 中 window "),s("code",[t._v("navigationStyle: custom")]),t._v("。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/my-blog/navigation.jpg",alt:"navigation"}})]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[s("code",[t._v("navigationStyle")]),t._v(" 只在 "),s("code",[t._v("app.json")]),t._v(" 中生效。开启 "),s("code",[t._v("custom")]),t._v(" 后，低版本客户端需要做好兼容。开发者工具基础库版本切到 1.7.0（不代表最低版本，只供调试用）可方便切到旧视觉\n客户端 "),s("code",[t._v("6.7.2")]),t._v(" 版本开始，"),s("code",[t._v("navigationStyle: custom")]),t._v(" 对 "),s("code",[t._v("<web-view>")]),t._v(" 组件无效")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("引入"),s("code",[t._v("weapp-navigation-bar")]),t._v("组件")])]),t._v(" "),s("p",[t._v("这里我们使用了开源的自定义导航栏组件"),s("a",{attrs:{href:"https://github.com/mulook/weapp-navigation-bar",target:"_blank",rel:"noopener noreferrer"}},[t._v("weapp-navigation-bar"),s("OutboundLink")],1),t._v("\n将"),s("code",[t._v("components/navigationBar")]),t._v("下的文件夹放置自己项目中并在页面中引入此组件。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usingComponents"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationBar"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/components/navigationBar/index"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("组件自定义方法")])]),t._v(" "),s("p",[t._v("toggleShow()/toggleHide()用于切换自定义导航栏的显示/隐藏。")]),t._v(" "),s("ul",[s("li",[t._v("组件自定义属性说明")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("默认值")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("title")]),t._v(" "),s("td",[t._v("标题")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("none")])]),t._v(" "),s("tr",[s("td",[t._v("color")]),t._v(" "),s("td",[t._v("标题字体颜色")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("#000000")])]),t._v(" "),s("tr",[s("td",[t._v("fontSize")]),t._v(" "),s("td",[t._v("导航栏字体大小，单位rpx、px")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("40rpx")])]),t._v(" "),s("tr",[s("td",[t._v("background")]),t._v(" "),s("td",[t._v("导航栏背景颜色")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("#ffffff")])]),t._v(" "),s("tr",[s("td",[t._v("placeholderBg")]),t._v(" "),s("td",[t._v("导航栏占位栏背景色")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("transparent")])]),t._v(" "),s("tr",[s("td",[t._v("back")]),t._v(" "),s("td",[t._v("是否显示导航栏返回按钮")]),t._v(" "),s("td",[t._v("Boolean")]),t._v(" "),s("td",[t._v("false")])]),t._v(" "),s("tr",[s("td",[t._v("fixed")]),t._v(" "),s("td",[t._v("导航栏是否fixed定位置顶")]),t._v(" "),s("td",[t._v("Boolean")]),t._v(" "),s("td",[t._v("true")])])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("在"),s("code",[t._v("wxml")]),t._v("加入自定义导航栏")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("navigationBar")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("navigationBar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholderBg")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{color}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("查看启动日志"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("back")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{true}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("background")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{barBg}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fixed")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{true}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("navigationBar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"/my-blog/navigation-1.jpg",alt:"navigation"}})]),t._v(" "),s("p",[t._v("这时候当我们直接进入"),s("code",[t._v("log")]),t._v("界面的时候，导航会出现回到首页的按钮。当然这是组件自带的，你也可以根据自己的业务场景做相应的改变。")]),t._v(" "),s("h2",{attrs:{id:"不足"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不足","aria-hidden":"true"}},[t._v("#")]),t._v(" 不足")]),t._v(" "),s("p",[t._v("由于"),s("code",[t._v("navigationStyle")]),t._v(" 只在 "),s("code",[t._v("app.json")]),t._v(" 中生效，所以如果使用自定义导航栏的话，你的每个页面都要手动添加自定义导航栏，这一点确实很麻烦，不过微信官方也收到了这个反馈意见，相信下面的版本能在指定页面添加自定义导航栏。")])])},[],!1,null,null,null);v.options.__file="miniapp-navigation.md";a.default=v.exports}}]);